function autocomplete(o,l){var s;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),s>=e.length&&(s=0),s<0&&(s=e.length-1),e[s].classList.add("autocomplete-active")}function r(e){for(var t=document.getElementsByClassName("autocomplete-items"),n=0;n<t.length;n++)e!=t[n]&&e!=o&&t[n].parentNode.removeChild(t[n])}o.addEventListener("input",function(e){var t,n,i,a=this.value;if(r(),!a)return!1;for(s=-1,(t=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),t.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(t),i=0;i<l.length;i++)l[i].substr(0,a.length).toUpperCase()==a.toUpperCase()&&((n=document.createElement("DIV")).innerHTML="<strong>"+l[i].substr(0,a.length)+"</strong>",n.innerHTML+=l[i].substr(a.length),n.innerHTML+="<input type='hidden' value='"+l[i]+"'>",n.addEventListener("click",function(e){o.value=this.getElementsByTagName("input")[0].value,r()}),t.appendChild(n))}),o.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(s++,n(t)):38==e.keyCode?(s--,n(t)):13==e.keyCode&&(e.preventDefault(),-1<s&&t&&t[s].click())}),document.addEventListener("click",function(e){r(e.target)})}